path=(
    ~/usr/bin
    ~/.local/bin
    ~/.cargo/bin
    ~/go/bin
    /usr/local/go/bin
    /opt/homebrew/opt/libpq/bin    
    /opt/homebrew/opt/openjdk/bin
    /opt/homebrew/bin
    /usr/local/bin
    /usr/bin
    /bin
    /usr/sbin
    /sbin
    '/Applications/Visual Studio Code.app/Contents/Resources/app/bin'
    /Applications/Postgres.app/Contents/Versions/15/bin/
)

# TODO: Build env in Rust, and source the Rust program's output here, rather
# than doing string maipulation, variable existence checks, etc. directly in
# shell script.

# Per suggestions from brew install libpq; see: bin/install-psql.zsh
export LDFLAGS="${LDFLAGS:+$LDFLAGS }-L/opt/homebrew/opt/libpq/lib"
export CPPFLAGS="${CPPFLAGS:+$CPPFLAGS }-I/opt/homebrew/opt/libpq/include"
export PKG_CONFIG_PATH="${PKG_CONFIG_PATH:+$PKG_CONFIG_PATH:}/opt/homebrew/opt/libpq/lib/pkgconfig"

# export CPPFLAGS="${CPPFLAGS:+$CPPFLAGS }-I/opt/homebrew/opt/openjdk/include"
export DISABLE_MAGIC_FUNCTIONS=true # Stop oh-my-zsh from being too clever.
export EXA_COLORS='*.md=;'
export FZF_DEFAULT_COMMAND='fdfind --type=f'
export LESS='-FRX -j5'
export LS_COLORS='di=01;36'
export PAGER=less
export PYTHONSTARTUP=~/conf/etc/pythonrc.py
export READNULLCMD=$PAGER
export RIPGREP_CONFIG_PATH=~/conf/etc/ripgreprc
export ZSH=~/.oh-my-zsh

# Based on 'brew shellenv' output
export HOMEBREW_PREFIX='/usr/local'
export HOMEBREW_CELLAR='/usr/local/Cellar'
export HOMEBREW_REPOSITORY='/usr/local/Homebrew'
export MANPATH="/usr/local/share/man${MANPATH+:$MANPATH}"
export INFOPATH="/usr/local/share/info:${INFOPATH:-}"

# Required by diesel.
export PQ_LIB_DIR="$(brew --prefix libpq)/lib"

if [ "${TERM_PROGRAM:-}" = vscode ]; then
    export EDITOR='code --wait'
else
    export EDITOR=nvim
fi


# Make pyright happy.
export PYRIGHT_PYTHON_FORCE_VERSION=latest
