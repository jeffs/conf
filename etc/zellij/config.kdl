// Use a wrapper script because default_shell ignores arguments like "--login".
default_shell "/Users/jeff/conf/src/nu-login.zsh"

// Zellij steals basic bindings like ctrl+p/n by default.
default_mode "locked"

// Session resurrection seems broken and, for my purposes, useless.
session_serialization false

pane_frames false
// show_startup_tips false

keybinds {
    shared_among "normal" "locked" {
        bind "Alt ," { GoToPreviousTab; }
        bind "Alt ." { GoToNextTab; }
        bind "Alt t" { NewTab; }
        bind "Alt [" { PreviousSwapLayout; }
        bind "Alt ]" { NextSwapLayout; }
        bind "Alt h" { MoveFocusOrTab "left"; }
        bind "Alt j" { MoveFocus "down"; }
        bind "Alt k" { MoveFocus "up"; }
        bind "Alt l" { MoveFocusOrTab "right"; }
        bind "Alt z" { TogglePaneFrames; }
        bind "Alt n" { FocusNextPane; }
    }

    // Quick actions from normal mode (Ctrl+g then key) that return to locked
    normal {
        // Pane actions
        bind "n" { NewPane; SwitchToMode "locked"; }
        bind "d" { NewPane "down"; SwitchToMode "locked"; }
        bind "r" { NewPane "right"; SwitchToMode "locked"; }
        bind "x" { CloseFocus; SwitchToMode "locked"; }
        bind "z" { ToggleFocusFullscreen; SwitchToMode "locked"; }
        bind "f" { ToggleFloatingPanes; SwitchToMode "locked"; }

        // Tab actions
        bind "t" { NewTab; SwitchToMode "locked"; }
        bind "w" { CloseTab; SwitchToMode "locked"; }
    }
}
